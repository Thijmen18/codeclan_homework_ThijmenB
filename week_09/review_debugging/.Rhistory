library(tidyverse)
energy_scotland
energy_scotland <- read_csv("data/energy_scotland.csv")
energy_scotland
all_salaries <- read_csv("data/all_salaries.csv")
all_salaries
max(energy_scotland$energy_prod)
energy_scotland %>%
filter(energy_prod == 25165.9)
# improve code by writing everything into single line/pipe
energy_scotland %>%
filter(energy_prod == max(energy_prod))
rating <- if_else(energy_scotland$energy_prod > 20000, "very high", if_else(energy_scotland$energy_prod > 10000 & energy_scotland$energy_prod <= 20000, "high", if_else(energy_scotland$energy_prod > 5000 & energy_scotland$energy_prod <= 10000, "medium", if_else(energy_scotland$energy_prod > 2000 & energy_scotland$energy_prod <= 5000, "low", "very low"))))
energy_scotland_rating <- bind_cols(energy_scotland, rating = rating)
energy_scotland_rating
energy_scotland %>%
mutate(rating = case_when(
energy_prod > 20000 ~ "very high",
energy_prod > 10000 & energy_prod <= 20000 ~ "high",
energy_prod > 5000 & energy_prod <= 10000 ~ "medium",
energy_prod > 2000 & energy_prod <= 5000 ~ "low",
TRUE ~ "very low"))
energy_scotland_rating <- energy_scotland %>%
mutate(rating = case_when(
energy_prod > 20000 ~ "very high",
energy_prod > 10000 & energy_prod <= 20000 ~ "high",
energy_prod > 5000 & energy_prod <= 10000 ~ "medium",
energy_prod > 2000 & energy_prod <= 5000 ~ "low",
TRUE ~ "very low"))
energy_scotland %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector == "Renewables|Gas|Pumped hydro") %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector == "Renewables|Gas|Pumped hydro")# %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")# %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")# %>%
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro"))# %>%
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = as.factor(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = as.character(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
scale_x_continuous(breaks = years)
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
scale_x_continuous(breaks = year)
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = as.character(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = y(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
# mutate(year)
ggplot() +
aes(x = as.double(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
# mutate(year)
ggplot() +
aes(x = as.numeric(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
mutate(year = year(year)) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
mutate(year = year(year)) %>%
ggplot() +
aes(x = y(year), y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
scale_x_continuous(breaks = years) +
```
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
scale_x_continuous(breaks = years)
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
scale_x_continuous(breaks = year)
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production")
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = ~ y(year), y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production")
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = ~ year, y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production")
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production")
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production") +
scale_x_continuous(breaks = unique(year))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production") +
scale_x_continuous(breaks = c(unique(year)))
energy_scotland %>%
filter(sector %in% c("Renewables", "Gas", "Pumped hydro")) %>%
ggplot() +
aes(x = year, y = energy_prod) +
geom_line(aes(colour = sector)) +
labs(title = "Energy production in Scotland over time split by sector",
x = "Year",
y = "Energy production") +
scale_x_continuous(breaks = c(unique(energy_scotland$year)))
shiny::runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
?scale_x_continuous
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
runApp('~/Documents/Career_2023/CodeClan_DataAnalysis/Impact_covid_and_season_acute_care_NHS/scripts')
energy_scotland %>%
filter(sector == c("Coal", "Gas", "Oil")) %>%
group_by(sector) %>%
summarise(avg_energy_prod = mean(energy_prod))
energy_scotland
energy_scotland %>%
filter(sector %in% c(Coal, Gas, Oil))
energy_scotland %>%
filter(sector %in% c("Coal", "Gas", "Oil"))
energy_scotland %>%
filter(sector %in% c("Coal", "Gas", "Oil")) %>%
group_by(sector) %>%
summarise(avg_energy_prod = mean(energy_prod))
student <- tibble(
Name = c("Brian", "David", "Karen"),
age = c(25, 56, 40),
location = c("Scotland", "England", "scotland"),
`email address` = c("briang@yahoo.co.uk", "dsmith@gmail.co.uk", "karen")
)
student
student %>%
select(name, location, email_address) %>%
janitor::clean_names() %>%
str_to_lower(location)
student %>%
mutate(location = str_to_lower(location)) %>%
select(name, location, email_address)
student
janitor::clean_names(student) %>%
mutate(location = str_to_lower(location)) %>%
select(name, location, email_address)
janitor::clean_names(student) %>%
#mutate(location = str_to_lower(location)) %>%
select(name, str_to_lower(location), email_address)
janitor::clean_names(student) %>%
#mutate(location = str_to_lower(location)) %>%
select(name, stringr::str_to_lower(location), email_address)
janitor::clean_names(student) %>%
mutate(location = str_to_lower(location)) %>%
select(name, location, email_address) %>%
mutate(valid_email = str_detect(email_address, "@[:alpha:]*|\\."))
all_salaries
subsetting_salaries <- function(dataframe_input,job_area_input,salary_input){
data <- dataframe_input %>% select(job_area) %>% filter(job_area == job_area_input)
data1 <- data[data$savings > salary_input, ]
}
subsetting_salaries(CodeClanData::all_salaries, Human Resources, 30000)
subsetting_salaries(all_salaries, Human Resources, 30000)
subsetting_salaries(all_salaries, "Human Resources", 30000)
all_salaries %>%
filter(job_area == "Legal") %>%
filter(salary > 30000)
subsetting_salaries <- function(dataframe_input, job_area_input, salary_input){
dataframe_input %>%
filter(job_area == job_area_input) %>%
filter(salary > salary_input)
}
subsetting_salaries(all_salaries, Legal, 30000)
subsetting_salaries(all_salaries, "Legal", 30000)
